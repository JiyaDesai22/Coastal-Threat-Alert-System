# Coastal Threat Alert System (HackOut'25) - Member 2 (Simulation & ML) Full Project

This repository contains a minimal, runnable coastal threat simulator + simple backend to accept readings and create alerts.
The goal: let member 2 (simulation & ML) deliver a working system that can run locally without waiting for others.

## Repo structure
```
coastal-threat-alert-system/
├─ backend/
│  ├─ main.py
│  ├─ anomaly_model.py
│  └─ models.py
├─ simulation/
│  └─ simulate.py
├─ models/
│  └─ iforest.joblib  # generated by train_iforest.py
└─ README.md
```

## Quick start (local demo)
1. Create virtual environment and install dependencies:
   ```bash
   python -m venv venv
   source venv/bin/activate  # or .\venv\Scripts\activate on Windows
   pip install -r backend/requirements.txt
   ```

2. Optionally train an IsolationForest model (creates models/iforest.joblib):
   ```bash
   python backend/train_iforest.py
   ```

3. Run backend:
   ```bash
   cd backend
   uvicorn main:app --reload --host 0.0.0.0 --port 8000
   ```

4. Run simulator (in another terminal):
   ```bash
   BACKEND_URL=http://localhost:8000 POST_MODE=both CADENCE_SEC=2 python simulation/simulate.py
   ```

5. Check generated logs in `out/` and query alerts:
   ```bash
   curl http://localhost:8000/alerts
   ```

## Notes
- Backend uses a tiny sqlite DB (`backend.db`) for quick demos. For production, switch to PostgreSQL and SQLAlchemy models.
- The anomaly detector contains a rolling z-score and an IsolationForest. The simulator injects synthetic storms, algal blooms, and oil events.
- This is intentionally minimal so the team can demo live streaming, detection, and alerts without needing cloud infra.

## Next steps (suggested)
- Replace sqlite3 with SQLAlchemy + migrations.
- Add authentication + role-based alerting.
- Integrate SMS/push using Twilio or Firebase Cloud Messaging.
- Build React dashboard using Leaflet + charts to visualize `alerts` and `sensor_readings`.

Good luck with HackOut'25! If you want, I can now:
- add a basic React frontend skeleton (one file) and place it in `frontend/`
- create a GitHub repo and push (I cannot push from here, but I can prepare scripts)
